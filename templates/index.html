{% extends "base.html" %}

{% block title %}AV Brands - Premium Fashion Store{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="hero-content">
                    <h1 class="hero-title">{{ 'Discover Your Style' if lang == 'en' else 'ನಿಮ್ಮ ಶೈಲಿಯನ್ನು ಕಂಡುಕೊಳ್ಳಿ' }}</h1>
                    <p class="hero-subtitle">{{ 'Premium quality fashion for men, women & kids at unbeatable prices.' if lang == 'en' else 'ಅತ್ಯುತ್ತಮ ಬೆಲೆಯಲ್ಲಿ ಪುರುಷರು, ಮಹಿಳೆಯರು ಮತ್ತು ಮಕ್ಕಳಿಗಾಗಿ ಪ್ರೀಮಿಯಂ ಗುಣಮಟ್ಟದ ಫ್ಯಾಷನ್.' }}</p>
                    <div class="hero-buttons">
                        <a href="{{ url_for('shop') }}" class="btn btn-primary btn-lg">{{ 'Shop Now' if lang == 'en' else 'ಈಗಲೇ ಖರೀದಿಸಿ' }}</a>
                        <a href="{{ url_for('contact') }}" class="btn btn-outline btn-lg" style="border-color: white; color: white;">{{ 'Contact Us' if lang == 'en' else 'ಸಂಪರ್ಕಿಸಿ' }}</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Daily Offers Section -->
{% if active_offers %}
<section class="section" style="background: var(--light-bg);">
    <div class="container">
        <div class="offer-banner">
            {% for offer in active_offers[:1] %}
                <h2 class="offer-title">{{ offer.title_kannada if lang == 'kn' else offer.title }}</h2>
                <div class="offer-discount">{{ offer.discount_percentage }}% {{ 'OFF' if lang == 'en' else 'ರಿಯಾಯಿತಿ' }}</div>
                <p class="offer-description">{{ offer.description_kannada if lang == 'kn' else offer.description }}</p>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Categories Section -->
<section class="section">
    <div class="container">
        <div class="section-title">
            <h2>{{ 'Shop by Category' if lang == 'en' else 'ವರ್ಗದ ಪ್ರಕಾರ ಖರೀದಿಸಿ' }}</h2>
        </div>
        
        <div class="category-grid">
            {% for category in categories %}
            <a href="{{ url_for('shop', category=category.id) }}" class="category-card">
                <img src="https://via.placeholder.com/300x300/e94560/ffffff?text={{ category.name }}" alt="{{ category.name }}">
                <div class="category-overlay">
                    <h3 class="category-name">{{ category.name_kannada if lang == 'kn' else category.name }}</h3>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Featured Products -->
{% if featured_products %}
<section class="section">
    <div class="container">
        <div class="section-title">
            <h2>{{ 'Featured Products' if lang == 'en' else 'ವಿಶೇಷ ಉತ್ಪನ್ನಗಳು' }}</h2>
        </div>
        
        <div class="product-grid">
            {% for product in featured_products %}
            <div class="product-card">
                <div class="product-image">
                    <img src="https://via.placeholder.com/300x300/1a1a2e/ffffff?text={{ product.name[:10] }}" alt="{{ product.name }}">
                    
                    <div class="product-badges">
                        {% if product.discount_price %}
                        <span class="product-badge badge-discount">-{{ product.get_discount_percentage() }}%</span>
                        {% endif %}
                        {% if product.is_featured %}
                        <span class="product-badge badge-featured">{{ 'Featured' if lang == 'en' else 'ವಿಶೇಷ' }}</span>
                        {% endif %}
                        {% if not product.is_in_stock() %}
                        <span class="product-badge badge-out-of-stock">{{ 'Out of Stock' if lang == 'en' else 'ಸ್ಟಾಕ್‌ನಲ್ಲಿಲ್ಲ' }}</span>
                        {% endif %}
                    </div>
                    
                    <div class="product-actions">
                        {% if current_user.is_authenticated %}
                            <button class="action-btn" data-href="{{ url_for('add_to_wishlist', product_id=product.id) }}" onclick="window.location.href=this.dataset.href">
                                <i class="fas fa-heart"></i>
                            </button>
                        {% endif %}
                        <button class="action-btn" data-href="{{ url_for('product_detail', product_id=product.id) }}" onclick="window.location.href=this.dataset.href">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <div class="product-info">
                    <div class="product-category">{{ product.category.name if product.category else '' }}</div>
                    <h3 class="product-title">
                        <a href="{{ url_for('product_detail', product_id=product.id) }}">{{ product.name_kannada if lang == 'kn' else product.name }}</a>
                    </h3>
                    <div class="product-price">
                        <span class="current-price">₹{{ "%.0f"|format(product.get_final_price()) }}</span>
                        {% if product.discount_price %}
                        <span class="original-price">₹{{ "%.0f"|format(product.price) }}</span>
                        {% endif %}
                    </div>
                    {% if product.is_in_stock() %}
                    <form action="{{ url_for('add_to_cart') }}" method="POST">
                        <input type="hidden" name="product_id" value="{{ product.id }}">
                        <input type="hidden" name="quantity" value="1">
                        <button type="submit" class="btn btn-primary btn-sm" style="width: 100%;">{{ 'Add to Cart' if lang == 'en' else 'ಕಾರ್ಟ್‌ಗೆ ಸೇರಿಸಿ' }}</button>
                    </form>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div style="text-align: center; margin-top: 40px;">
            <a href="{{ url_for('shop') }}" class="btn btn-outline">{{ 'View All Products' if lang == 'en' else 'ಎಲ್ಲಾ ಉತ್ಪನ್ನಗಳನ್ನು ನೋಡಿ' }}</a>
        </div>
    </div>
</section>
{% endif %}

<!-- Trending Products -->
{% if trending_products %}
<section class="section" style="background: var(--light-bg);">
    <div class="container">
        <div class="section-title">
            <h2>{{ 'Trending Now' if lang == 'en' else 'ಈಗ ಟ್ರೆಂಡಿಂಗ್' }}</h2>
        </div>
        
        <div class="product-grid">
            {% for product in trending_products %}
            <div class="product-card">
                <div class="product-image">
                    <img src="https://via.placeholder.com/300x300/16213e/ffffff?text={{ product.name[:10] }}" alt="{{ product.name }}">
                    
                    <div class="product-badges">
                        {% if product.discount_price %}
                        <span class="product-badge badge-discount">-{{ product.get_discount_percentage() }}%</span>
                        {% endif %}
                        {% if not product.is_in_stock() %}
                        <span class="product-badge badge-out-of-stock">{{ 'Out of Stock' if lang == 'en' else 'ಸ್ಟಾಕ್‌ನಲ್ಲಿಲ್ಲ' }}</span>
                        {% endif %}
                    </div>
                    
                    <div class="product-actions">
                        {% if current_user.is_authenticated %}
                            <button class="action-btn" data-href="{{ url_for('add_to_wishlist', product_id=product.id) }}" onclick="window.location.href=this.dataset.href">
                                <i class="fas fa-heart"></i>
                            </button>
                        {% endif %}
                        <button class="action-btn" data-href="{{ url_for('product_detail', product_id=product.id) }}" onclick="window.location.href=this.dataset.href">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <div class="product-info">
                    <div class="product-category">{{ product.category.name if product.category else '' }}</div>
                    <h3 class="product-title">
                        <a href="{{ url_for('product_detail', product_id=product.id) }}">{{ product.name_kannada if lang == 'kn' else product.name }}</a>
                    </h3>
                    <div class="product-price">
                        <span class="current-price">₹{{ "%.0f"|format(product.get_final_price()) }}</span>
                        {% if product.discount_price %}
                        <span class="original-price">₹{{ "%.0f"|format(product.price) }}</span>
                        {% endif %}
                    </div>
                    {% if product.is_in_stock() %}
                    <form action="{{ url_for('add_to_cart') }}" method="POST">
                        <input type="hidden" name="product_id" value="{{ product.id }}">
                        <input type="hidden" name="quantity" value="1">
                        <button type="submit" class="btn btn-primary btn-sm" style="width: 100%;">{{ 'Add to Cart' if lang == 'en' else 'ಕಾರ್ಟ್‌ಗೆ ಸೇರಿಸಿ' }}</button>
                    </form>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Features Section -->
<section class="section">
    <div class="container">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; text-align: center;">
            <div>
                <i class="fas fa-shipping-fast" style="font-size: 3rem; color: var(--accent-color); margin-bottom: 15px;"></i>
                <h4>{{ 'Free Shipping' if lang == 'en' else 'ಉಚಿತ ಶಿಪ್ಪಿಂಗ್' }}</h4>
                <p>{{ 'On orders above Rs.500' if lang == 'en' else 'Rs.500 ಕ್ಕಿಂತ ಹೆಚ್ಚಿನ ಆರ್ಡರ್‌ಗಳಲ್ಲಿ' }}</p>
            </div>
            <div>
                <i class="fas fa-undo" style="font-size: 3rem; color: var(--accent-color); margin-bottom: 15px;"></i>
                <h4>{{ 'Easy Returns' if lang == 'en' else 'ಸುಲಭ ವಾಪಸಾತಿ' }}</h4>
                <p>{{ '30-day return policy' if lang == 'en' else '30 ದಿನಗಳ ವಾಪಸಾತಿ ನೀತಿ' }}</p>
            </div>
            <div>
                <i class="fas fa-headset" style="font-size: 3rem; color: var(--accent-color); margin-bottom: 15px;"></i>
                <h4>{{ '24/7 Support' if lang == 'en' else '24/7 ಬೆಂಬಲ' }}</h4>
                <p>{{ 'Dedicated customer support' if lang == 'en' else 'ಸಮರ್ಪಿತ ಗ್ರಾಹಕ ಬೆಂಬಲ' }}</p>
            </div>
            <div>
                <i class="fas fa-shield-alt" style="font-size: 3rem; color: var(--accent-color); margin-bottom: 15px;"></i>
                <h4>{{ 'Secure Payment' if lang == 'en' else 'ಸುರಕ್ಷಿತ ಪಾವತಿ' }}</h4>
                <p>{{ '100% secure transactions' if lang == 'en' else '100% ಸುರಕ್ಷಿತ ವಹಿವಾಟುಗಳು' }}</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}

